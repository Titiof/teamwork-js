!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){i[e]=n},n.parcelRequired7c6=r);var o=r("bpxeT"),s=r("2TvXO"),a=r("fkNhc"),u=r("gQOBw"),c=r("h6c0i"),l=(0,a.initializeApp)({apiKey:"AIzaSyBcETIWRzdvvBXoViQftnTvFFLpHkebOhw",authDomain:"book-bc5e2.firebaseapp.com",projectId:"book-bc5e2",storageBucket:"book-bc5e2.appspot.com",messagingSenderId:"258455649332",appId:"1:258455649332:web:4a54c5fd8564a412d79e61",measurementId:"G-2EMZHHRVM8"}),d=(0,u.getAuth)(l),p="signup",f={signinBtn:document.querySelector(".login-sign-in"),signupBtn:document.querySelector(".login-sign-up"),closeModalBtn:document.querySelector(".js-login-btn"),modal:document.querySelector(".js-backdrop"),form:document.querySelector(".js-login-form"),inputName:document.querySelector("#user_name"),email:document.querySelector("#user_email"),password:document.querySelector("#user_password"),loginSubmitBtn:document.querySelector(".login-submit-btn"),containerNameInput:document.querySelector("#login-field-name")};function m(){"signin"===p&&(f.signupBtn.classList.remove("active"),f.signinBtn.classList.add("active"),f.containerNameInput.classList.add("is-hidden"),f.inputName.required=!1,f.loginSubmitBtn.textContent="Sign in"),"signup"===p&&(f.signupBtn.classList.add("active"),f.signinBtn.classList.remove("active"),f.containerNameInput.classList.remove("is-hidden"),f.inputName.required=!0,f.loginSubmitBtn.textContent="Sign up")}function g(){return(g=e(o)(e(s).mark((function n(t){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"signup"===p?h():w();case 2:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=e(o)(e(s).mark((function n(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.createUserWithEmailAndPassword)(d,f.email.value,f.password.value);case 3:e.sent&&d.currentUser&&((0,u.sendEmailVerification)(d.currentUser),(0,u.updateProfile)(d.currentUser,{displayName:f.inputName.value,photoURL:"https://picsum.photos/50/50?random=1"}),c.Notify.success("Registration was successful!"),setTimeout((function(){window.location.href="/teamwork-js/"}),500)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),"auth/email-already-in-use"===e.t0.code?c.Notify.warning("This email address is already registered. Please go to the tab signin."):c.Notify.error("An error occurred during registration.");case 10:case"end":return e.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function w(){return y.apply(this,arguments)}function y(){return(y=e(o)(e(s).mark((function n(){var t,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.signInWithEmailAndPassword)(d,f.email.value,f.password.value);case 3:t=e.sent,i=t.user,console.log(i),f.form.reset(),"",c.Notify.success("Authorization was successful!"),setTimeout((function(){window.location.href="/teamwork-js/"}),500),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.code,e.t0.message,error="Invalid user email or password",c.Notify.failure(e.t0);case 18:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}f.closeModalBtn.addEventListener("click",(function(){window.history.back()})),f.form.addEventListener("submit",(function(e){return g.apply(this,arguments)})),f.signinBtn.addEventListener("click",(function(){f.form.reset(),p="signin",m()})),f.signupBtn.addEventListener("click",(function(){f.form.reset(),p="signup",m()})),d.onAuthStateChanged((function(e){console.log("perevirka",e),e?c.Notify.success("Successful authorized! You will be redirected to the home page"):c.Notify.info("Need authorized")}))}();
//# sourceMappingURL=login.97727b3a.js.map
