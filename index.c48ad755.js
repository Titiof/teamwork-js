function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("2ix2C"),a("e1LOh"),a("8FnLx"),a("bUb57");var l=a("2ix2C");let c=localStorage.getItem("darkMode");const r=document.querySelector("#dark-mode-toggle"),s=document.querySelector("#dark-mode-toggle-two"),i=document.querySelector(".checkbox"),d=()=>{(0,l.setDarkMode)("enable"),document.body.classList.add("darkmode"),localStorage.setItem("darkMode","enabled"),i.checked=!0},u=()=>{(0,l.setDarkMode)("null"),document.body.classList.remove("darkmode"),localStorage.setItem("darkMode",null),i.checked=!1};"enabled"===c&&d(),r.addEventListener("click",(()=>{c=localStorage.getItem("darkMode"),"enabled"!==c?(d(),s.checked=!0):(u(),s.checked=!1)})),s.addEventListener("click",(()=>{c=localStorage.getItem("darkMode"),"enabled"!==c?(d(),r.checked=!0):(u(),r.checked=!1)}));var m=a("hLzQv");const g=document.querySelector(".bestsellers-list");function f(e){return`<li class="book-card" id="${e._id}">\n            <div class="book-card-wrapper">\n            <img class="book-card-img" src="${e.book_image}" alt="Book cover" loading="lazy" />\n            <p class="book-text-backdrop">Quick view</p>\n            </div>\n            <h3 class="book-card-title">${e.title}</h3>\n            <p class="book-card-text">${e.author}</p>\n        </li>`}function y(e){const t=[];for(let o=0;o<e.length;o+=1){const n=e[o].books.map(((e,t)=>{if(t<5)return f(e)})).join(""),a=`<h2 class="top-category-title">${e[o].list_name}</h2>\n    <ul class="top-category-list">\n    ${n}\n    </ul>\n    <button class="book-card-btn" name='${e[o].list_name}' type="button">See more</button>`;t.push(a)}g.innerHTML=t.join("")}function k(e,t){const o=e.map((e=>f(e))).join(""),n=t.split(" ");let a=n.length-1,l=n[a];const c=`\n    <h2 class="main-header">${n.splice(0,a).join(" ")} \n        <span class="main-header-accent">${l}</span>\n    </h2>\n    <ul class="category-books-wrapper">${o}</ul>`;document.querySelector(".bestsellers-list").innerHTML=c;document.querySelectorAll(".book-card").forEach((e=>{e.classList.add("show-all")}))}const h=document.querySelector(".vertical-menu"),p=document.querySelector(".main-header"),b=document.querySelector(".bestsellers-list"),w=h.querySelector("li"),v=new(0,m.BooksAPI);async function L(e){try{k(await v.getFullCategory(e),e)}catch(e){Notiflix.Notify.failure("Sorry, there is no books in this category")}}window.addEventListener("DOMContentLoaded",(async()=>{w.classList.add("active");try{const e=(await v.getCategoriesList()).map((e=>e.list_name)).sort(((e,t)=>e.localeCompare(t))),t=e.map((e=>`<li class='list_name'>${e}</li>`)).join("");h.insertAdjacentHTML("beforeend",t)}catch(e){Notiflix.Notify.failure("Oops, something went wrong!")}})),h.addEventListener("click",(async function(e){if(e.preventDefault(),"LI"!==e.target.nodeName)return;if(h.querySelectorAll("li").forEach((e=>{e.classList.remove("active")})),e.target.classList.add("active"),e.target.classList.contains("all_categories"))try{y(await v.getBooks()),p.style.display="block"}catch(e){Notiflix.Notify.failure("Oops, something went wrong!")}else{p.style.display="none";L(e.target.textContent)}})),b.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName){p.style.display="none",L(e.target.name);h.querySelectorAll("li").forEach((t=>{t.textContent===e.target.name&&(w.classList.remove("active"),t.classList.add("active"))}))}})),a("dTazW");var S=a("7Y9D8");m=a("hLzQv");const q=document.querySelector(".loader-backdrop");function x(){q.classList.toggle("is-hidden")}const M=new(0,m.BooksAPI);!async function(){x();try{const t=await M.getBooks();0===t.length&&e(S).Notify.warning("Sorry, there are no top books yet"),y(t)}catch(t){e(S).Notify.failure("Oops, something went wrong!")}finally{x()}}();const N=document.querySelector("#button-scroll-up");window.addEventListener("scroll",(function(){window.scrollY>200?N.classList.add("show"):N.classList.remove("show")})),N.addEventListener("click",(function e(){0!=window.scrollY&&setTimeout((function(){window.scrollTo(0,window.scrollY-70),e()}),10)})),a("7IXaT"),a("bTcpz");
//# sourceMappingURL=index.c48ad755.js.map
