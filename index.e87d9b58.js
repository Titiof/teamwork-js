!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r),r("iNWLi"),r("cqZ6b"),r("cs7FV"),r("i8Q71");var a=r("iNWLi"),c=localStorage.getItem("darkMode"),s=document.querySelector("#dark-mode-toggle"),i=document.querySelector("#dark-mode-toggle-two"),l=document.querySelector(".checkbox"),u=function(){(0,a.setDarkMode)("enable"),document.body.classList.add("darkmode"),localStorage.setItem("darkMode","enabled"),l.checked=!0},d=function(){(0,a.setDarkMode)("null"),document.body.classList.remove("darkmode"),localStorage.setItem("darkMode",null),l.checked=!1};"enabled"===c&&u(),s.addEventListener("click",(function(){"enabled"!==(c=localStorage.getItem("darkMode"))?(u(),i.checked=!0):(d(),i.checked=!1)})),i.addEventListener("click",(function(){"enabled"!==(c=localStorage.getItem("darkMode"))?(u(),s.checked=!0):(d(),s.checked=!1)}));var p=r("bpxeT"),f=r("2TvXO"),k=r("fepPP"),m=document.querySelector(".bestsellers-list");function g(e){return'<li class="book-card" id="'.concat(e._id,'">\n            <div class="book-card-wrapper">\n            <img class="book-card-img" src="').concat(e.book_image,'" alt="Book cover" loading="lazy" />\n            <p class="book-text-backdrop">Quick view</p>\n            </div>\n            <h3 class="book-card-title">').concat(e.title,'</h3>\n            <p class="book-card-text">').concat(e.author,"</p>\n        </li>")}function h(e){for(var t=[],n=0;n<e.length;n+=1){var o=e[n].books.map((function(e,t){if(t<5)return g(e)})).join(""),r='<h2 class="top-category-title">'.concat(e[n].list_name,'</h2>\n    <ul class="top-category-list">\n    ').concat(o,'\n    </ul>\n    <button class="book-card-btn" name=\'').concat(e[n].list_name,'\' type="button">See more</button>');t.push(r)}m.innerHTML=t.join("")}function v(e,t){var n=e.map((function(e){return g(e)})).join(""),o=t.split(" "),r=o.length-1,a=o[r],c=o.splice(0,r).join(" "),s='\n    <h2 class="main-header">'.concat(c,' \n        <span class="main-header-accent">').concat(a,'</span>\n    </h2>\n    <ul class="category-books-wrapper">').concat(n,"</ul>");document.querySelector(".bestsellers-list").innerHTML=s,document.querySelectorAll(".book-card").forEach((function(e){e.classList.add("show-all")}))}var b=document.querySelector(".vertical-menu"),y=document.querySelector(".main-header"),w=document.querySelector(".bestsellers-list"),x=b.querySelector("li"),L=new(0,k.BooksAPI);function S(){return(S=e(p)(e(f).mark((function t(n){return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"LI"!==n.target.nodeName){e.next=21;break}if(b.querySelectorAll("li").forEach((function(e){e.classList.remove("active")})),n.target.classList.add("active"),!n.target.classList.contains("all_categories")){e.next=18;break}return e.prev=5,e.next=8,L.getBooks();case 8:h(e.sent),y.style.display="block",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),Notiflix.Notify.failure("Oops, something went wrong!");case 16:e.next=19;break;case 18:y.style.display="none",q(n.target.textContent);case 19:e.next=22;break;case 21:return e.abrupt("return");case 22:case"end":return e.stop()}}),t,null,[[5,13]])})))).apply(this,arguments)}function q(e){return N.apply(this,arguments)}function N(){return(N=e(p)(e(f).mark((function t(n){return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getFullCategory(n);case 3:v(e.sent,n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Notiflix.Notify.failure("Sorry, there is no books in this category");case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}window.addEventListener("DOMContentLoaded",e(p)(e(f).mark((function t(){var n,o,r;return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.classList.add("active"),e.prev=1,e.next=4,L.getCategoriesList();case 4:n=e.sent,o=n.map((function(e){return e.list_name})).sort((function(e,t){return e.localeCompare(t)})),r=o.map((function(e){return"<li class='list_name'>".concat(e,"</li>")})).join(""),b.insertAdjacentHTML("beforeend",r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Notiflix.Notify.failure("Oops, something went wrong!");case 13:case"end":return e.stop()}}),t,null,[[1,10]])})))),b.addEventListener("click",(function(e){return S.apply(this,arguments)})),w.addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&(y.style.display="none",q(e.target.name),b.querySelectorAll("li").forEach((function(t){t.textContent===e.target.name&&(x.classList.remove("active"),t.classList.add("active"))})))})),r("xpKCW");p=r("bpxeT"),f=r("2TvXO");var T=r("6JpON"),M=(k=r("fepPP"),document.querySelector(".loader-backdrop"));function E(){M.classList.toggle("is-hidden")}var O=new(0,k.BooksAPI);function _(){return(_=e(p)(e(f).mark((function t(){var n;return e(f).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(),t.prev=1,t.next=4,O.getBooks();case 4:0===(n=t.sent).length&&e(T).Notify.warning("Sorry, there are no top books yet"),h(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(T).Notify.failure("Oops, something went wrong!");case 12:return t.prev=12,E(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))).apply(this,arguments)}!function(){_.apply(this,arguments)}();var C=document.querySelector("#button-scroll-up");window.addEventListener("scroll",(function(){window.scrollY>200?C.classList.add("show"):C.classList.remove("show")})),C.addEventListener("click",(function e(){0!=window.scrollY&&setTimeout((function(){window.scrollTo(0,window.scrollY-70),e()}),10)})),r("au5Zf"),r("5xtVg")}();
//# sourceMappingURL=index.e87d9b58.js.map
