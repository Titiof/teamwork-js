function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("2ix2C"),a("e1LOh"),a("8FnLx"),a("bUb57");let l=localStorage.getItem("darkMode");const c=document.querySelector("#dark-mode-toggle"),r=document.querySelector("#dark-mode-toggle-two"),s=document.querySelector(".checkbox"),i=()=>{document.body.classList.add("darkmode"),localStorage.setItem("darkMode","enabled"),s.checked=!0},d=()=>{document.body.classList.remove("darkmode"),localStorage.setItem("darkMode",null),s.checked=!1};"enabled"===l&&i(),c.addEventListener("click",(()=>{l=localStorage.getItem("darkMode"),"enabled"!==l?(i(),r.checked=!0):(d(),r.checked=!1)})),r.addEventListener("click",(()=>{l=localStorage.getItem("darkMode"),"enabled"!==l?(i(),c.checked=!0):(d(),c.checked=!1)}));var u=a("hLzQv");const m=document.querySelector(".bestsellers-list");function g(e){return`<li class="book-card" id="${e._id}">\n            <div class="book-card-wrapper">\n            <img class="book-card-img" src="${e.book_image}" alt="Book cover" loading="lazy" />\n            <p class="book-text-backdrop">Quick view</p>\n            </div>\n            <h3 class="book-card-title">${e.title}</h3>\n            <p class="book-card-text">${e.author}</p>\n        </li>`}function f(e){const t=[];for(let o=0;o<e.length;o+=1){const n=e[o].books.map(((e,t)=>{if(t<5)return g(e)})).join(""),a=`<h2 class="top-category-title">${e[o].list_name}</h2>\n    <ul class="top-category-list">\n    ${n}\n    </ul>\n    <button class="book-card-btn" name='${e[o].list_name}' type="button">See more</button>`;t.push(a)}m.innerHTML=t.join("")}function y(e,t){const o=e.map((e=>g(e))).join(""),n=t.split(" ");let a=n.length-1,l=n[a];const c=`\n    <h2 class="main-header">${n.splice(0,a).join(" ")} \n        <span class="main-header-accent">${l}</span>\n    </h2>\n    <ul class="category-books-wrapper">${o}</ul>`;document.querySelector(".bestsellers-list").innerHTML=c;document.querySelectorAll(".book-card").forEach((e=>{e.classList.add("show-all")}))}const h=document.querySelector(".vertical-menu"),p=document.querySelector(".main-header"),k=document.querySelector(".bestsellers-list"),b=h.querySelector("li"),w=new(0,u.BooksAPI);async function v(e){try{y(await w.getFullCategory(e),e)}catch(e){Notiflix.Notify.failure("Sorry, there is no books in this category")}}window.addEventListener("DOMContentLoaded",(async()=>{b.classList.add("active");try{const e=(await w.getCategoriesList()).map((e=>e.list_name)).sort(((e,t)=>e.localeCompare(t))),t=e.map((e=>`<li class='list_name'>${e}</li>`)).join("");h.insertAdjacentHTML("beforeend",t)}catch(e){Notiflix.Notify.failure("Oops, something went wrong!")}})),h.addEventListener("click",(async function(e){if(e.preventDefault(),"LI"!==e.target.nodeName)return;if(h.querySelectorAll("li").forEach((e=>{e.classList.remove("active")})),e.target.classList.add("active"),e.target.classList.contains("all_categories"))try{f(await w.getBooks()),p.style.display="block"}catch(e){Notiflix.Notify.failure("Oops, something went wrong!")}else{p.style.display="none";v(e.target.textContent)}})),k.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName){p.style.display="none",v(e.target.name);h.querySelectorAll("li").forEach((t=>{t.textContent===e.target.name&&(b.classList.remove("active"),t.classList.add("active"))}))}})),a("dTazW");var L=a("7Y9D8");u=a("hLzQv");const S=document.querySelector(".loader-backdrop");function q(){S.classList.toggle("is-hidden")}const x=new(0,u.BooksAPI);!async function(){q();try{const t=await x.getBooks();0===t.length&&e(L).Notify.warning("Sorry, there are no top books yet"),f(t)}catch(t){e(L).Notify.failure("Oops, something went wrong!")}finally{q()}}();const N=document.querySelector("#button-scroll-up");window.addEventListener("scroll",(function(){window.scrollY>200?N.classList.add("show"):N.classList.remove("show")})),N.addEventListener("click",(function e(){0!=window.scrollY&&setTimeout((function(){window.scrollTo(0,window.scrollY-70),e()}),10)})),a("7IXaT"),a("bTcpz");
//# sourceMappingURL=index.e8ce6a2d.js.map
