{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,0TCAzDH,EAAA,S,iCCCA,IAAII,EAAWC,aAAaC,QAAQ,YAE9BC,EAAiBC,SAASC,cAAc,qBACxCC,EAAoBF,SAASC,cAAc,yBAC3CE,EAAmBH,SAASC,cAAc,aAE1CG,EAAiB,WAErBJ,SAASK,KAAKC,UAAUC,IAAI,YAG1BV,aAAaW,QAAQ,WAAY,WAEnCL,EAAiBM,SAAU,C,EAGvBC,EAAkB,WAEtBV,SAASK,KAAKC,UAAUK,OAAO,YAE7Bd,aAAaW,QAAQ,WAAY,MAEhCL,EAAiBM,SAAU,C,EAKf,YAAbb,GACFQ,IAIFL,EAAea,iBAAiB,SAAS,WAKtB,aAHjBhB,EAAWC,aAAaC,QAAQ,cAI9BM,IACAF,EAAkBO,SAAU,IAE5BC,IACAR,EAAkBO,SAAU,E,IAKhCP,EAAkBU,iBAAiB,SAAS,WAKzB,aAHjBhB,EAAWC,aAAaC,QAAQ,cAI9BM,IACAL,EAAeU,SAAU,IAEzBC,IACAX,EAAeU,SAAU,E,qBC1D7BI,EAAiBrB,EAAA,SAAAsB,aAA6C,SAAWtB,EAAA,SAAAuB,QAA6C,S,MCAtHC,EAAiBxB,EAAA,SAAAsB,aAA6C,SAAWtB,EAAA,SAAAuB,QAA6C,S,MCAtHE,EAAiBzB,EAAA,SAAAsB,aAA6C,SAAWtB,EAAA,SAAAuB,QAA6C,S,iBCMhHG,EAAO,CACXC,aAAcnB,SAASC,cAAc,2BACrCmB,OAAQpB,SAASC,cAAc,gBAC/BoB,UAAWrB,SAASC,cAAc,mBAG9BqB,EAAkB,gBAexB,SAASC,EAAaC,G,IACpBC,EADoBD,EACpBC,IACAC,EAFoBF,EAEpBE,WACAC,EAHoBH,EAGpBG,MACAC,EAJoBJ,EAIpBI,UACAC,EALoBL,EAKpBK,YACAC,EANoBN,EAMpBM,OACAC,EAPoBP,EAOpBO,UAGMC,EAAkBH,GAAe,kCACvC,MAAO,sFAGUI,OAFmCR,EAAI,2GAK3BQ,OAHZC,EAAAjB,GAAO,yEAKOgB,OAFFP,EAAW,sFAGNO,OADHN,EAAM,6CAEDM,OADFL,EAAU,+CAEbK,OADKD,EAAgB,yCAKrCC,OAJgBH,EAAO,wFAQ3BG,OAJIF,EAAU,GAAG/C,IAAI,2IASjBiD,OALJC,EAAArB,GAAO,4FASPoB,OAJIF,EAAU,GAAG/C,IAAI,kJAIfiD,OAANC,EAAAlB,GAAM,qE,CAanB,SAASmB,EAAmBC,GAC1B,IAAMC,EALR,SAAuBD,GACrB,OAAOA,EAAME,IAAIf,GAAcgB,KAAK,G,CAIrBC,CAAcJ,GAC7BlB,EAAKC,aAAasB,UAAYJ,C,EAnEhC,YACE,EAAAK,EAAAC,gBACA,IAAMC,EAoER,SAAoBC,GAClB,IAAMC,EAAYjD,aAAaC,QAAQ+C,GACvC,GAAIC,EACF,IACE,OAAOpD,KAAKC,MAAMmD,E,CAClB,MAAOC,GACP,MAAO,E,EA1EQC,CAAW1B,GAC1BsB,EAAWnE,OAAS,IACtB0D,EAAmBS,GACnB1B,EAAKE,OAAOd,UAAUC,IAAI,aAC1BW,EAAKG,UAAUf,UAAUC,IAAI,eAE/B,EAAAmC,EAAAC,e,CAGFM,GAuEA/B,EAAKC,aAAaP,iBAAiB,SAEnC,SAAwBsC,GACtB,GACEA,EAAEC,OAAO7C,UAAU8C,SAAS,oBAC5BF,EAAEC,OAAO7C,UAAU8C,SAAS,wBAC5B,CACA,IAAMC,EAAYH,EAAEC,OAAOG,QAAQ,UAAU5E,GACvC6E,EAAa7D,KAAKC,MAAME,aAAaC,QAAQwB,KAAqB,GAClEkC,EAAYD,EAAWE,WAAU,SAAAC,G,OAAQA,EAAKjC,MAAQ4B,C,KAE1C,IAAdG,IACFD,EAAWI,OAAOH,EAAW,GAC7B3D,aAAaW,QAAQc,EAAiB5B,KAAKkE,UAAUL,IAE3B,IAAtBA,EAAW9E,SACbyC,EAAKE,OAAOd,UAAUK,OAAO,aAC7BO,EAAKG,UAAUf,UAAUK,OAAO,cAGlCwB,EAAmBoB,G,gBCpHLM,KAAKC,MAAMC,OAAOC,eAAeC,O","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-a15f20d74b2c55db.js","src/shopinglist.js","src/js/shoppinglist-darkmode.js","node_modules/@parcel/runtime-js/lib/runtime-dd12f9a3953b59e7.js","node_modules/@parcel/runtime-js/lib/runtime-2b59c07adb8ec0ea.js","node_modules/@parcel/runtime-js/lib/runtime-fa3b774fbfcd57b6.js","src/js/shopping-list.js","src/js/pagination.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"744CZ\\\":\\\"shoppinglist.b0a0b72e.js\\\",\\\"gzTdc\\\":\\\"amazon-logo@2x.eb113d91.webp\\\",\\\"fk8b4\\\":\\\"amazon-book@2x.98f76d9b.webp\\\",\\\"ee16w\\\":\\\"sprite.57b43d66.svg\\\",\\\"4den9\\\":\\\"login.a4b47b89.js\\\",\\\"3sPTe\\\":\\\"shoppinglist.1327986b.js\\\"}\"));","import './js/firebase';\nimport './js/login/logout';\nimport './js/mobile-menu';\nimport './js/header';\nimport './js/shoppinglist-darkmode';\nimport './js/support';\nimport './js/shopping-list';\nimport './js/clock';\nimport './js/pagination';\nimport './js/loader';\n","// check for saved 'darkMode' in localStorage\nlet darkMode = localStorage.getItem('darkMode'); \n\nconst darkModeToggle = document.querySelector('#dark-mode-toggle');\nconst darkModeToggleTwo = document.querySelector('#dark-mode-toggle-two');\nconst darkModeCheckbox = document.querySelector('.checkbox'); // Get the checkbox element\n\nconst enableDarkMode = () => {\n  // 1. Add the class to the body\n  document.body.classList.add('darkmode');\n  \n  // 2. Update darkMode in localStorage\n    localStorage.setItem('darkMode', 'enabled');\n     // 3. Check the checkbox\n  darkModeCheckbox.checked = true;\n}\n\nconst disableDarkMode = () => {\n  // 1. Remove the class from the body\n  document.body.classList.remove('darkmode');\n  // 2. Update darkMode in localStorage \n    localStorage.setItem('darkMode', null);\n      // 3. Uncheck the checkbox\n     darkModeCheckbox.checked = false;\n}\n \n// If the user already visited and enabled darkMode\n// start things off with it on\nif (darkMode === 'enabled') {\n  enableDarkMode();\n}\n\n// When someone clicks the first toggle\ndarkModeToggle.addEventListener('click', () => {\n  // Get the current state of dark mode\n  darkMode = localStorage.getItem('darkMode');\n  \n  // Toggle the state based on the current value\n  if (darkMode !== 'enabled') {\n    enableDarkMode();\n    darkModeToggleTwo.checked = true;\n  } else {\n    disableDarkMode();\n    darkModeToggleTwo.checked = false;\n  }\n});\n\n// When someone clicks the second toggle\ndarkModeToggleTwo.addEventListener('click', () => {\n  // Get the current state of dark mode for the second toggle\n  darkMode = localStorage.getItem('darkMode');\n  \n  // Toggle the state based on the current value\n  if (darkMode !== 'enabled') {\n    enableDarkMode();\n    darkModeToggle.checked = true;\n  } else {\n    disableDarkMode();\n    darkModeToggle.checked = false;\n  }\n});","module.exports = require('./helpers/bundle-url').getBundleURL('744CZ') + require('./helpers/bundle-manifest').resolve(\"gzTdc\");","module.exports = require('./helpers/bundle-url').getBundleURL('744CZ') + require('./helpers/bundle-manifest').resolve(\"fk8b4\");","module.exports = require('./helpers/bundle-url').getBundleURL('744CZ') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","\nimport amazon from '../images/shopping-list/amazon-logo@2x.webp';\nimport apple from '../images/shopping-list/amazon-book@2x.webp';\nimport sprite from '../images/sprite.svg';\nimport { toggleLoader } from './loader';\n\nconst refs = {\n  shoppingList: document.querySelector('.shopping-list-selector'),\n  header: document.querySelector('.main-header'),\n  container: document.querySelector('.shopping-plug'),\n};\n\nconst localStorageKey = 'shopping-list';\n\nfunction onLoadPage() {\n  toggleLoader();\n  const loadedData = loadFromLS(localStorageKey);\n  if (loadedData.length > 0) {\n    renderShoppingList(loadedData);\n    refs.header.classList.add('is-hidden');\n    refs.container.classList.add('is-hidden');\n  }\n  toggleLoader();\n}\n\nonLoadPage();\n\nfunction bookTemplate({\n  _id,\n  book_image,\n  title,\n  list_name,\n  description,\n  author,\n  buy_links,\n}) {\n\n  const shopDescription = description || 'Description will be added later';\n  return ` <li class=\"shopping-border\">\n  <button class=\"shopping-button\" type=\"button\" id=\"${_id}\">\n    <svg class=\"shopping-delete-icon\" width=\"18\" height=\"18\" aria-label=\"trash\">\n      <use href=\"${sprite}#trash\"><use>\n    </svg>\n  </button>\n  <img class=\"img-card\" src=\"${book_image}\" alt=\"Book cover\" />\n  <div class=\"inform-box\">\n    <h2 class=\"shopping-title\">${title}</h2>\n    <h3 class=\"shopping-category\">${list_name}</h3>\n    <p class=\"shopping-description\">${shopDescription}</p>\n    <p class=\"shopping-author\">${author}</p>\n  </div>\n  <ul class=\"shopping-link\">\n    <li class=\"shop\">\n      <a href=\"${buy_links[0].url}\" class=\"shop-link\" target=\"_blank\">\n      <img\n      class=\"shops-icon-amazon shops-item-icon\"\n      alt=\"Amazon-logo\"\n      src=\"${amazon}\"\n      loading=\"lazy\"/>\n      </a>\n    </li>\n    <li class=\"shop\">\n      <a href=\"${buy_links[1].url}\" class=\"shop-link\" target=\"_blank\">\n      <img\n      class=\"shop-icon-book shops-item-icon-book\"\n      alt=\"Apple-Books-logo\"\n      src=\"${apple}\"\n      loading=\"lazy\"/>\n      </a>\n    </li>\n  </ul>\n\n</li>`;\n}\n\nfunction booksTemplate(books) {\n  return books.map(bookTemplate).join('');\n}\n\nfunction renderShoppingList(books) {\n  const markup = booksTemplate(books);\n  refs.shoppingList.innerHTML = markup;\n}\n\nfunction loadFromLS(key) {\n  const savedData = localStorage.getItem(key);\n  if (savedData) {\n    try {\n      return JSON.parse(savedData);\n    } catch (error) {\n      return [];\n    }\n  }\n\n}\n\nrefs.shoppingList.addEventListener('click', onDeleteFromLS);\n\nfunction onDeleteFromLS(e) {\n  if (\n    e.target.classList.contains('shopping-button') ||\n    e.target.classList.contains('shopping-delete-icon')\n  ) {\n    const bookIdBtn = e.target.closest('button').id;\n    const books_data = JSON.parse(localStorage.getItem(localStorageKey)) || [];\n    const bookIndex = books_data.findIndex(book => book._id === bookIdBtn);\n\n    if (bookIndex !== -1) {\n      books_data.splice(bookIndex, 1);\n      localStorage.setItem(localStorageKey, JSON.stringify(books_data));\n\n      if (books_data.length === 0) {\n        refs.header.classList.remove('is-hidden');\n        refs.container.classList.remove('is-hidden');\n      }\n\n      renderShoppingList(books_data);\n    }\n  }\n}\n","const windowWidth = Math.round(window.visualViewport.width);\n\nconst visiblePages = windowWidth > 760 ? 3 : 5;\n\nexport const options = {\n  totalItems: 15,\n  itemsPerPage: 1,\n  visiblePages,\n  template: {\n    page: '<button type=\"button\" class=\"tui-page-btn\">{{page}}</button>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<button type=\"button\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</button>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<button type=\"button\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</button>',\n  },\n};\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$8aba43a55544b003$var$darkMode","localStorage","getItem","$8aba43a55544b003$var$darkModeToggle","document","querySelector","$8aba43a55544b003$var$darkModeToggleTwo","$8aba43a55544b003$var$darkModeCheckbox","$8aba43a55544b003$var$enableDarkMode","body","classList","add","setItem","checked","$8aba43a55544b003$var$disableDarkMode","remove","addEventListener","$90a4c8cbe6cdf451$exports","getBundleURL","resolve","$3af1bd6f24315858$exports","$8e9476a6fc1f94c3$exports","$399cd7aec2522034$var$refs","shoppingList","header","container","$399cd7aec2522034$var$localStorageKey","$399cd7aec2522034$var$bookTemplate","param","_id","book_image","title","list_name","description","author","buy_links","shopDescription","concat","$parcel$interopDefault","$399cd7aec2522034$var$renderShoppingList","books","markup","map","join","$399cd7aec2522034$var$booksTemplate","innerHTML","$kvC6y","toggleLoader","loadedData","key","savedData","error","$399cd7aec2522034$var$loadFromLS","$399cd7aec2522034$var$onLoadPage","e","target","contains","bookIdBtn","closest","books_data","bookIndex","findIndex","book","splice","stringify","Math","round","window","visualViewport","width"],"version":3,"file":"shoppinglist.b0a0b72e.js.map"}