!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=r);var i=r("bpxeT"),a=r("2TvXO"),s=r("fkNhc"),c=r("gQOBw"),u=r("h6c0i"),d=(0,s.initializeApp)({apiKey:"AIzaSyBcETIWRzdvvBXoViQftnTvFFLpHkebOhw",authDomain:"book-bc5e2.firebaseapp.com",projectId:"book-bc5e2",storageBucket:"book-bc5e2.appspot.com",messagingSenderId:"258455649332",appId:"1:258455649332:web:4a54c5fd8564a412d79e61",measurementId:"G-2EMZHHRVM8"}),l=(0,c.getAuth)(d),p="signup",m={signinBtn:document.querySelector(".login-sign-in"),signupBtn:document.querySelector(".login-sign-up"),closeModalBtn:document.querySelector(".js-login-btn"),modal:document.querySelector(".js-backdrop"),form:document.querySelector(".js-login-form"),inputName:document.querySelector("#user_name"),email:document.querySelector("#user_email"),password:document.querySelector("#user_password"),loginSubmitBtn:document.querySelector(".login-submit-btn"),containerNameInput:document.querySelector("#login-field-name")};function f(){"signin"===p&&(m.signupBtn.classList.remove("active"),m.signinBtn.classList.add("active"),m.containerNameInput.classList.add("is-hidden"),m.inputName.required=!1,m.loginSubmitBtn.textContent="Sign in"),"signup"===p&&(m.signupBtn.classList.add("active"),m.signinBtn.classList.remove("active"),m.containerNameInput.classList.remove("is-hidden"),m.inputName.required=!0,m.loginSubmitBtn.textContent="Sign up")}function g(){return(g=e(i)(e(a).mark((function t(n){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),"signup"===p?h():y();case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=e(i)(e(a).mark((function t(){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.createUserWithEmailAndPassword)(l,m.email.value,m.password.value);case 3:e.sent&&l.currentUser&&((0,c.sendEmailVerification)(l.currentUser),(0,c.updateProfile)(l.currentUser,{displayName:m.inputName.value,photoURL:"https://picsum.photos/50/50?random=1"}),u.Notify.success("Registration was successful!"),setTimeout((function(){window.location.href="/teamwork-js/"}),500)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),"auth/email-already-in-use"===e.t0.code?u.Notify.warning("This email address is already registered. Please go to the tab signin."):u.Notify.error("An error occurred during registration.");case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function y(){return k.apply(this,arguments)}function k(){return(k=e(i)(e(a).mark((function t(){var n,o;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.signInWithEmailAndPassword)(l,m.email.value,m.password.value);case 3:n=e.sent,o=n.user,console.log(o),m.form.reset(),"",u.Notify.success("Authorization was successful!"),setTimeout((function(){window.location.href="/teamwork-js/"}),500),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0.code,e.t0.message,error="Invalid user email or password",u.Notify.failure(e.t0);case 18:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}m.closeModalBtn.addEventListener("click",(function(){window.history.back()})),m.form.addEventListener("submit",(function(e){return g.apply(this,arguments)})),m.signinBtn.addEventListener("click",(function(){m.form.reset(),p="signin",f()})),m.signupBtn.addEventListener("click",(function(){m.form.reset(),p="signup",f()})),l.onAuthStateChanged((function(e){console.log("perevirka",e),e?u.Notify.success("Successful authorized! You will be redirected to the home page"):u.Notify.info("Need authorized")}));var w=localStorage.getItem("darkMode"),b=document.querySelector("#dark-mode-toggle"),S=document.querySelector("#dark-mode-toggle-two"),N=document.querySelector(".checkbox"),q=function(){document.body.classList.add("darkmode"),localStorage.setItem("darkMode","enabled"),N.checked=!0},B=function(){document.body.classList.remove("darkmode"),localStorage.setItem("darkMode",null),N.checked=!1};"enabled"===w&&q(),b.addEventListener("click",(function(){"enabled"!==(w=localStorage.getItem("darkMode"))?(q(),S.checked=!0):(B(),S.checked=!1)})),S.addEventListener("click",(function(){"enabled"!==(w=localStorage.getItem("darkMode"))?(q(),b.checked=!0):(B(),b.checked=!1)}))}();
//# sourceMappingURL=login.46530d45.js.map
